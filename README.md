# 着座検知・集中力測定デバイス
## 概要
　本デバイスは，加速度センサおよび気圧センサを用いてユーザーが着座しているかどうか検知し，着座している場合にはどの程度作業に集中しているかを測定する座布団型デバイスものである．なお，測定結果は，本アプリ専用のデータベース（F_2004）に5分ごとにPOSTリクエストによって送信する．

## POST Request
MIME typeは"application/x-www-form-urlencoded"を使い，5分ごとに以下のフォーマットでPOSTリクエストを送信する．

| key | description |
| ------------- | ------------- |
| "user-id"  | ユーザID |
| "concentration_value"  | 集中レベル |
| "is_sitting"  | 着座状況 |

## 使用方法
　本デバイスの外観と構成要素を下図に示す．

本デバイスはこのように基板の入った袋の様な外観をしており，袋の中に本体である基板と給電用のモバイルバッテリーが入っている．使用するにはまずモバイルバッテリーと基板が接続し，基板に給電していることを確認する．基板の部分は椅子の背もたれに近くユーザーが踏まない箇所に固定する．そして，ユーザーが袋の上に着座して作業を行うことで使用できる．使用しないときにはモバイルバッテリーの給電を停止するか基板との接続を解除する．
　
## 機能
　本デバイスは，大久保らの加速度センサを利用した集中度合推定システムに関する研究（[1]）を利用して集中力を推定している．大久保らの研究では，椅子に装着した加速度センサのパワースペクトルの和と集中度に負の相関があることを示しており，本デバイスにおいてもパワースペクトルの和を集中力を測定する際の指標として用いている．本アプリでは，加速度センサMPU-6550を使用し，各計測ごとのパワースペクトルの和の平均が2.0[G^2]であったときを上限，静止状態の各計測ごとのパワースペクトルの和の平均の理想値である1.0[G^2]を下限として，測定されたパワースペクトルの和の平均が上限と下限の間を10分割したときに何段階目に属するかを計算するすることによって集中力を10段階で測定している．
　着座検知に際しては，Infineon社に提供して頂いた気圧センサDps-310を利用している．袋の中の気圧が100100.00[Pa]を超えると，ユーザ―が着座していると判断している．

## 回路図
　本デバイスの基板外観および回路図を下図に示す．
## 開発環境